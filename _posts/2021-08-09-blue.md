---
tags: [THM]
title: Blue
created: '2021-08-10T10:40:35.754Z'
modified: '2021-08-10T10:40:45.221Z'
---

# Blue

### Nmap
- Makinenin ICMP paketlerine cevap vermediğini, buna göre nmap taramanıza gerekli parametreyi eklemeyi unutmayın.
- Port taraması gerçekleştirirken tüm portları taramanız her zaman faydanıza olacaktır.
- Nmap script taraması yapılması önerilir.
- Taramalar sonucunda açık olan bazı servisler için kullanılabilecek nmap scriptleri vardır. 
- Aşağıdaki scriptler kullanılarak zafiyet tespiti yapılabilir.

    | Port | Service       | Script Name       |
    | ---- | ------------- | ----------------- |
    | 135  | msrpc         | msrpc-enum        |
    | 443  | microsoft-ds  | smb-vuln-ms10-054 |
    | 443  | microsoft-ds  | smb-vuln-ms10-061 |
    | 443  | microsoft-ds  | smb-vuln-ms17-010 |

### Metasploit ve PrivEsc
- Öncelikle bu bölüm için temel Metasploit bilgisi kesinlikle bulunmalıdır.
- Metasploit üzerinde **hashdump**, **migrate**, **shell to meterpreter** gibi kavramlara dikkat edilmeli.
- Migrate işlemi size yetki yükseltmede işinize yarıyacaktır.
- Hashdump size kullanıcı parolalarını çekmek için yardımcı olacaktır.

### Cracking - JohnTheRipper/Hashcat
- SAM dosyası içindeki kullanıcı parolalarını kırmak için Hascat veya JohnTheRipper aracı kullanılabilir.
- John kullanan kullanıcılar için parola formatı **NT** olarak geçer.
- Hashcat kullanacak kullanıcılar ise parola format ID'si olarak **1000** değeri girilmelidir.
- Wordlist olarak öncelikle **rockyou.txt** kullanılmalıdır.

### Flag
- Sistem üzerinde 3 adet flag bulunuyor.
- THM tarafından verilen ipuçlarını takip ederek flaglere ulaşabilirsiniz.
- Flagleri almanız için migration işlemini yapmanız yeterlidir.
- Cracking işlemi öğretici olması açısından makine içine eklenmiştir.


# THM - Blue Makinesinin Akış Şeması Üzerinden Görünümü :

```mermaid
graph TD
0(THM - Blue !)
1[Nmap]
2(msrpc - Port:135)
3(microsoft-ds - Port:445 )
4(NOT-VULN !)
5(ms17-010)
6(exploit/windows/smb/ms17_010_eternalblue)
7(Migration)
8(Hashdump)
9(Pass Cracking !)
10(JohnTheRipper)
11(Hashcat)
12( Password )
13(Flag1.txt)
14(Flag2.txt)
15(Flag3.txt)
16(Finish)
17(Metasploit)
0 --> 1
1 --> 2
1 --> 3
2 --> 4
3 --> 5
5 --> 17
17 --> 6
6 --> 7
7 --> 8
8 --> 9
9 --> 10
9 --> 11
10 --> 12
11 --> 12
12 --> 13
12 --> 14
12 --> 15
13 --> 16
14 --> 16
15 --> 16
```

